<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gracias — PataMig</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --brand: #4a7c59;
      --brand2: #e89f4b;
      --tint: #f9f9f9;
      --bgTop: #ffffff;
      --bgBottom: #f3f3f3;
      --text: #222;
      --textSec: #555;
      --stroke: #e0e0e0;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    html, body { height: 100%; }

    body {
      display: grid;
      grid-template-rows: 1fr auto;
      padding: 16px;
      background: linear-gradient(180deg, var(--bgTop), var(--bgBottom));
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      overflow-x: hidden;
    }

    main {
      width: 100%;
      max-width: 480px;
      margin-inline: auto;
      display: grid;
      gap: 20px;
      text-align: center;
      align-self: center;
    }

    .card-wrap {
      position: relative;
      border-radius: 18px;
      padding: 3px;
      background: linear-gradient(90deg, var(--brand), var(--brand2), var(--brand)) no-repeat;
      background-size: 300% 300%;
      animation: borderFlow 6s linear infinite, cardEnter 1s ease-out forwards;
      opacity: 0;
      transform: translateY(20px);
      filter: blur(6px);
    }

    @keyframes borderFlow {
      0% { background-position: 0% 50%; }
      100% { background-position: 300% 50%; }
    }

    @keyframes cardEnter {
      60% { opacity: 1; transform: translateY(-4px); filter: blur(0); }
      100% { transform: translateY(0); }
    }

    .card {
      border-radius: 15px;
      background: linear-gradient(180deg, var(--tint) 0%, #ffffff 80%);
      border: 1px solid var(--stroke);
      padding: clamp(22px, 6vw, 32px);
    }

    h1 {
      font-size: clamp(1.6rem, 6vw, 2rem);
      font-weight: 700;
      color: var(--brand);
      margin-bottom: 10px;
    }

    p {
      font-size: clamp(1rem, 4vw, 1.15rem);
      line-height: 1.6;
      color: var(--textSec);
    }

    .back-btn {
      margin-top: 25px;
      background-color: var(--brand);
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 14px 20px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }

    .back-btn:hover {
      background-color: #3b6347;
    }

    footer {
      text-align: center;
      padding: 20px 0;
      font-size: 0.9rem;
      color: var(--textSec);
    }

    @media (prefers-reduced-motion: reduce) {
      .card-wrap { animation: none; opacity: 1; transform: none; filter: none; }
    }
  </style>
</head>
<body>
  <main>
    <div class="card-wrap">
      <section class="card" aria-labelledby="t">
        <h1 id="t">Gracias por tu ayuda</h1>
        <p id="desc">Tu opinión nos ayuda a mejorar y ofrecerte un mejor servicio.</p>
        <button class="back-btn" id="backBtn">← Atrás</button>
      </section>
    </div>
  </main>

  <footer>
    © <span id="year"></span> PataMig
  </footer>

  <script>
    const COPY = {
      es: {
        title: "Gracias — PataMig",
        heading: "Gracias por tu ayuda",
        desc: "Tu opinión nos ayuda a mejorar y ofrecerte un mejor servicio.",
        back: "← Atrás"
      },
      en: {
        title: "Thanks — PataMig",
        heading: "Thanks for your help",
        desc: "Your feedback helps us improve and offer you better service.",
        back: "← Back"
      },
      de: {
        title: "Danke — PataMig",
        heading: "Vielen Dank für Ihre Hilfe",
        desc: "Ihr Feedback hilft uns, uns zu verbessern und Ihnen einen besseren Service zu bieten.",
        back: "← Zurück"
      },
      fr: {
        title: "Merci — PataMig",
        heading: "Merci pour votre aide",
        desc: "Vos commentaires nous aident à nous améliorer et à vous offrir un meilleur service.",
        back: "← Retour"
      }
    };

    // Detecta idioma desde URL o navegador
    function getLanguage() {
      const urlParams = new URLSearchParams(window.location.search);
      const langFromUrl = urlParams.get('lang');
      if (langFromUrl && COPY[langFromUrl]) return langFromUrl;
      const browserLangs = navigator.languages || [navigator.language || 'en'];
      for (const lang of browserLangs) {
        const code = lang.slice(0, 2);
        if (COPY[code]) return code;
      }
      return 'en';
    }

    function setLang(lang) {
      const dict = COPY[lang] || COPY.en;
      document.documentElement.lang = lang;
      document.title = dict.title;
      document.getElementById("t").textContent = dict.heading;
      document.getElementById("desc").textContent = dict.desc;
      document.getElementById("backBtn").textContent = dict.back;
    }

    // Volver atrás manteniendo idioma
    function goBack() {
      const lang = document.documentElement.lang;
      const prev = document.referrer ? new URL(document.referrer) : null;
      if (prev) {
        prev.searchParams.set("lang", lang);
        location.href = prev.href;
      } else {
        window.history.back();
      }
    }

    (function () {
      const lang = getLanguage();
      setLang(lang);
      document.getElementById("year").textContent = new Date().getFullYear();
      document.getElementById("backBtn").addEventListener("click", goBack);
    })();
  </script>
</body>
</html>

