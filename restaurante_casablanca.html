<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="theme-color" content="#0b0f18">
<title>¬øC√≥mo fue tu experiencia?</title>
<style>
  :root{
    --text:#0b0f18; --muted:#566073;
    --brand:#0b0f18; --ok:#16a34a; --google:#2563eb;
    --card:#ffffff; --bg:#f7f7fb; --border:#e6e8ee;
  }

  *,*::before,*::after{box-sizing:border-box;}
  html,body{margin:0; height:100%;}

  body{
    min-height:100vh;
    display:flex; align-items:center; justify-content:center;
    padding:0;
    font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    color:var(--text);
    background: radial-gradient(1200px 800px at 10% -10%, #f1f5ff 0, #fff 60%) no-repeat, var(--bg);
  }

  .card{
    width:100%;
    max-width:580px;
    height:100vh;
    display:flex; flex-direction:column; justify-content:center; gap:14px;
    background:var(--card);
    border:1px solid var(--border);
    border-radius:0;
    padding:18px;
    box-shadow:none;
    position:relative;
  }

  #lang-selector{position:absolute; top:12px; right:12px;}
  #current-lang{
    cursor:pointer; font-size:24px; padding:4px; border-radius:8px;
    background:rgba(0,0,0,.04); display:grid; place-items:center;
    transition:background .2s ease;
  }
  #current-lang:hover{ background:rgba(0,0,0,.08); }
  #lang-options{
    display:none; position:absolute; top:calc(100% + 4px); right:0;
    background:var(--card); border:1px solid var(--border); border-radius:12px;
    box-shadow:0 8px 20px rgba(12,20,33,.1); padding:6px;
  }
  .lang-option{display:flex; align-items:center; gap:8px; padding:8px 12px;
    font-size:14px; font-weight:600; border-radius:8px; cursor:pointer;
    transition:background-color .2s ease;}
  .lang-option:hover{background-color:var(--bg);}

  .brand{display:flex; flex-direction:column; align-items:center; gap:6px}
  .logo{width:68px; height:68px; border-radius:50%; overflow:hidden;
    display:grid; place-items:center; background:#fff;
    box-shadow:0 4px 10px rgba(0,0,0,.08)}
  .logo img{width:100%; height:100%; object-fit:cover}
  .brand h1{margin:6px 0 0; font-size:22px; text-align:center}
  .brand p{margin:2px 0 0; color:var(--muted); font-size:14px; text-align:center}

  .grid{display:grid; gap:12px; flex:1; place-content:center;}
  @media(min-width:560px){ .grid{grid-template-columns:1fr 1fr} }

  .tile{
    border:1px solid var(--border); border-radius:16px; background:#fff;
    padding:12px; display:flex; flex-direction:column; align-items:center;
  }
  .tile h2{margin:0 0 6px; font-size:16px; text-align:center}
  .tile p{margin:0 0 10px; font-size:13px; color:var(--muted); text-align:center}

  .btn{
    display:block; width:100%; text-align:center; text-decoration:none;
    padding:14px 16px; border-radius:12px; font-weight:800; font-size:15px; color:#fff;
    box-shadow:0 4px 12px rgba(0,0,0,.1); transition:transform .06s ease;
  }
  .btn:active{transform:translateY(1px)}
  .btn-google{background:linear-gradient(180deg,#6baeff,var(--google))}
  .btn-private{background:linear-gradient(180deg,#4ade80,var(--ok))}
  .btn-share{background:linear-gradient(180deg,#93c5fd,#2563eb); color:#fff; font-weight:700;}
  .note{font-size:12px; color:var(--muted); text-align:center}

  #shareSection{margin-top:10px; text-align:center;}
  #shareSection small{display:block; color:var(--muted); font-size:12px; margin-top:4px;}
</style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="t">
    <header class="brand">
      <div class="logo">
        <img src="img/imagen_circular_recortada.png" alt="Logo Cocteler√≠a Casablanca">
      </div>
      <h1 id="t"><span id="brandName">Restaurante Casablanca</span></h1>
      <p id="subtitle">Cu√©ntanos en 10&nbsp;segundos c√≥mo fue todo.</p>
    </header>

    <div class="grid">
      <section class="tile" aria-labelledby="publicTitle">
        <h2 id="publicTitle">‚≠ê Rese√±a p√∫blica</h2>
        <p id="publicText">Si te fue bien, tu rese√±a nos da visibilidad en Google.</p>
        <a id="btnGoogle" class="btn btn-google" target="_blank" rel="noopener">Dejar rese√±a en Google</a>
        <div class="note" id="publicNote">Queda visible para todos.</div>
      </section>

      <section class="tile" aria-labelledby="privateTitle">
        <h2 id="privateTitle">üìù Comentario privado</h2>
        <p id="privateText">Si algo fall√≥, cu√©ntanos y lo arreglamos contigo.</p>
        <a id="btnPrivate" class="btn btn-private" target="_blank" rel="noopener">Enviar comentario privado</a>
        <div class="note" id="privateNote">Solo lo vemos nosotros.</div>
      </section>
    </div>

    <div id="shareSection">
      <p id="shareTitle" style="font-size:14px; font-weight:600;">üì∏ Comparte tu experiencia</p>
      <p id="shareText" style="font-size:13px; margin:0 0 6px;">Saca o elige una foto y cu√©ntales a tus amigos que estuviste en Casablanca üç∏‚ú®</p>
      <input type="file" id="photoInput" accept="image/*" capture="environment" style="display:none;">
      <button id="btnChoose" class="btn btn-share" style="padding:10px 12px; font-size:14px;">Elegir o sacar foto üì∑</button>
      <button id="btnShare" class="btn btn-google" style="margin-top:6px; padding:10px 12px; font-size:14px;">Compartir con amigos ‚Üí</button>
      <small id="shareHint">Primero elige o toma una foto, luego toca ‚ÄúCompartir‚Äù.</small>
    </div>

    <p class="note" id="thanks"><strong>¬°Gracias por tu tiempo!</strong></p>
  </main>

<script>
const RESTAURANT_NAME = "Restaurante Casablanca ¬∑ Las Canteras";
const GOOGLE_MAPS_SHORT = "https://maps.app.goo.gl/CasablancaLasCanteras";

let selectedPhoto = null;

const COPY = {
  es: {
    subtitle: "Cu√©ntanos en 10 segundos c√≥mo fue todo.",
    publicTitle: "‚≠ê Rese√±a p√∫blica",
    publicText: "Si te fue bien, tu rese√±a nos da visibilidad en Google.",
    publicBtn: "Dejar rese√±a en Google",
    publicNote: "Queda visible para todos.",
    privateTitle: "üìù Comentario privado",
    privateText: "Si algo fall√≥, cu√©ntanos y lo arreglamos contigo.",
    privateBtn: "Enviar comentario privado",
    privateNote: "Solo lo vemos nosotros.",
    thanks: "¬°Gracias por tu tiempo!",
    shareTitle: "üì∏ Comparte tu experiencia",
    shareText: "Saca o elige una foto y cu√©ntales a tus amigos que estuviste en Casablanca üç∏‚ú®",
    shareHint: "Primero elige o toma una foto, luego toca ‚ÄúCompartir‚Äù.",
    shareMsg: "Acabo de disfrutar en Terraza Casablanca Las Canteras üç∏‚ú® ¬°Tienes que venir!",
  }
};

function setLang(lang='es'){
  const dict = COPY[lang];
  document.getElementById("subtitle").textContent = dict.subtitle;
  document.getElementById("publicTitle").textContent = dict.publicTitle;
  document.getElementById("publicText").textContent = dict.publicText;
  document.getElementById("btnGoogle").textContent = dict.publicBtn;
  document.getElementById("publicNote").textContent = dict.publicNote;
  document.getElementById("privateTitle").textContent = dict.privateTitle;
  document.getElementById("privateText").textContent = dict.privateText;
  document.getElementById("btnPrivate").textContent = dict.privateBtn;
  document.getElementById("privateNote").textContent = dict.privateNote;
  document.getElementById("thanks").innerHTML = `<strong>${dict.thanks}</strong>`;
  document.getElementById("shareTitle").textContent = dict.shareTitle;
  document.getElementById("shareText").textContent = dict.shareText;
  document.getElementById("shareHint").textContent = dict.shareHint;
  document.getElementById("btnShare").onclick = (e)=>shareExperience(e,dict.shareMsg);
}

document.getElementById("btnChoose").addEventListener("click",()=>document.getElementById("photoInput").click());

document.getElementById("photoInput").addEventListener("change",(e)=>{
  if(e.target.files && e.target.files[0]){
    selectedPhoto = e.target.files[0];
    document.getElementById("shareHint").textContent = "Perfecto üì∏ ‚Äî ahora toca ‚ÄúCompartir con amigos ‚Üí‚Äù.";
  }
});

async function shareExperience(e,msg){
  e.preventDefault();
  const text = `${msg}\nüìç Terraza Casablanca Las Canteras (Las Palmas de G.C.)`;
  const shareData = { text };

  if(selectedPhoto){
    try{
      const file = selectedPhoto;
      if(navigator.canShare && navigator.canShare({ files:[file] })){
        shareData.files = [file];
      }
    }catch(err){console.log(err);}
  }

  try{
    if(navigator.share){
      await navigator.share(shareData);
      document.getElementById("shareHint").textContent = "‚úÖ ¬°Compartido con √©xito!";
      selectedPhoto = null;
      document.getElementById("photoInput").value = "";
    }else{
      await navigator.clipboard.writeText(text);
      document.getElementById("shareHint").textContent = "Link copiado üìã";
    }
  }catch(err){
    console.log("Compartir cancelado:",err);
  }
}

(function init(){
  document.getElementById("brandName").textContent = RESTAURANT_NAME;
  document.getElementById("btnGoogle").href = GOOGLE_MAPS_SHORT;
  setLang();
})();
</script>
</body>
</html>
