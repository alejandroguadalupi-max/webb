<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="theme-color" content="#0b0f18">
<title>Â¿CÃ³mo fue tu experiencia?</title>
<style>
Â  :root{
Â  Â  --text:#0b0f18; --muted:#566073;
Â  Â  --brand:#0b0f18; --ok:#16a34a; --google:#2563eb;
Â  Â  --card:#ffffff; --bg:#f7f7fb; --border:#e6e8ee;
Â  Â  --share-color: #2563eb; /* Color de acento para la tarjeta de compartir */
Â  }

Â  *,*::before,*::after{box-sizing:border-box}
Â  html,body{margin:0; height:100%}

Â  body{
Â  Â  min-height:100svh;
Â  Â  display:flex; align-items:center; justify-content:center;
Â  Â  padding:12px;
Â  Â  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
Â  Â  color:var(--text);
Â  Â  background:
Â  Â  Â  radial-gradient(1200px 800px at 10% -10%, #f1f5ff 0, #fff 60%) no-repeat,
Â  Â  Â  var(--bg);
Â  }

Â  .card{
Â  Â  width:min(580px, 100%);
Â  Â  max-height:100svh;
Â  Â  display:flex; flex-direction:column; gap:14px;
Â  Â  background:var(--card);
Â  Â  border:1px solid var(--border);
Â  Â  border-radius:20px;
Â  Â  padding:18px;
Â  Â  box-shadow:0 18px 45px rgba(12,20,33,.08);
Â  Â  position:relative;
Â  }

Â  .brand{display:flex; flex-direction:column; align-items:center; gap:6px}
Â  .logo{width:68px; height:68px; border-radius:50%; overflow:hidden; display:grid; place-items:center; background:#fff; box-shadow:0 4px 10px rgba(0,0,0,.08)}
Â  .logo img{width:100%; height:100%; object-fit:cover}
Â  .brand h1{margin:6px 0 0; font-size:22px; line-height:1.2; text-align:center}
Â  .brand p{margin:2px 0 0; color:var(--muted); font-size:14px; text-align:center}

Â  .grid{display:grid; gap:12px}
Â  @media(min-width:560px){ .grid{grid-template-columns:1fr 1fr} }

Â  .tile{
Â  Â  border:1px solid var(--border); border-radius:16px; background:#fff;
Â  Â  padding:12px; display:flex; flex-direction:column; align-items:center;
Â  }
Â  .tile h2{margin:0 0 6px; font-size:16px; text-align:center}
Â  .tile p{margin:0 0 10px; font-size:13px; color:var(--muted); text-align:center}

Â  .btn{
Â  Â  display:block; width:100%; text-align:center; text-decoration:none;
Â  Â  padding:14px 16px; border-radius:12px; font-weight:800; font-size:15px; color:#fff;
Â  Â  box-shadow:0 4px 12px rgba(0,0,0,.1); transition:transform .06s ease;
Â  }
Â  .btn:active{transform:translateY(1px)}
Â  .btn-google{background:linear-gradient(180deg,#6baeff,var(--google))}
Â  .btn-private{background:linear-gradient(180deg,#4ade80,var(--ok))}
Â  .btn-share-trigger{background:linear-gradient(180deg,#6366f1,#4338ca);}
Â  .btn-share-native{background:linear-gradient(180deg,#6baeff,var(--share-color))}
Â  .btn-back{
Â  Â  background:var(--bg); color:var(--muted);
Â  Â  box-shadow:none; font-weight:600;
Â  Â  padding:10px 16px; margin-top:10px;
Â  Â  border: 1px solid var(--border);
Â  }

Â  .note{font-size:12px; color:var(--muted); text-align:center}

Â  /* --- Estilos de la Tarjeta de Compartir (Vista 2) --- */
Â  #share-view {
Â  Â  display: none; /* Oculto por defecto */
Â  Â  flex-direction: column;
Â  Â  align-items: center;
Â  Â  gap: 18px;
Â  }

Â  .share-card-preview {
Â  Â  border: 1px solid var(--share-color);
Â  Â  background: #f3f4ff; /* Fondo mÃ¡s claro para la tarjeta */
Â  Â  border-radius: 16px;
Â  Â  padding: 18px;
Â  Â  width: 100%;
Â  Â  display: flex;
Â  Â  flex-direction: column;
Â  Â  align-items: center;
Â  Â  text-align: center;
Â  Â  box-shadow: 0 8px 15px rgba(37, 99, 235, .15);
Â  }
Â  .share-card-preview .icon {
Â  Â  font-size: 40px;
Â  Â  margin-bottom: 8px;
Â  }
Â  .share-card-preview h2 {
Â  Â  font-size: 20px;
Â  Â  margin: 0;
Â  Â  color: var(--share-color);
Â  }
Â  .share-card-preview p {
Â  Â  margin: 6px 0 0;
Â  Â  color: var(--text);
Â  Â  font-size: 15px;
Â  Â  font-weight: 500;
Â  }
</style>
</head>
<body>
<main class="card" role="main" aria-labelledby="t">

Â  Â  <div id="main-view">
Â  Â  <header class="brand">
Â  Â  Â  <div class="logo">
Â  Â  Â  Â  <img src="img/imagen_circular_recortada.png" alt="Logo CoctelerÃ­a Casablanca">
Â  Â  Â  </div>
Â  Â  Â  <h1 id="t">Restaurante Casablanca</h1>
Â  Â  Â  <p>CuÃ©ntanos en 10Â segundos cÃ³mo fue todo.</p>
Â  Â  </header>

Â  Â  <div class="grid">
Â  Â  Â  <section class="tile">
Â  Â  Â  Â  <h2>â­ ReseÃ±a pÃºblica</h2>
Â  Â  Â  Â  <p>Si te fue bien, tu reseÃ±a nos da visibilidad en Google.</p>
Â  Â  Â  Â  <a class="btn btn-google" target="_blank" href="https://www.google.com/maps/place/Terraza+Casa+Blanca+Las+Canteras/@28.141278,-15.4374678,768m/data=!3m2!1e3!4b1!4m6!3m5!1s0xc409546bd250fb7:0x1844c8ed175e5104!8m2!3d28.141278!4d-15.4348929!16s%2Fg%2F11qb8pxwyk?entry=ttu">
Â  Â  Â  Â  Â  Dejar reseÃ±a en Google
Â  Â  Â  Â  </a>
Â  Â  Â  Â  <div class="note">Queda visible para todos.</div>
Â  Â  Â  </section>

Â  Â  Â  <section class="tile">
Â  Â  Â  Â  <h2>ğŸ“ Comentario privado</h2>
Â  Â  Â  Â  <p>Si algo fallÃ³, cuÃ©ntanos y lo arreglamos contigo.</p>
Â  Â  Â  Â  <a class="btn btn-private" target="_blank" href="https://tally.so/r/w2Qla9">Enviar comentario privado</a>
Â  Â  Â  Â  <div class="note">Solo lo vemos nosotros.</div>
Â  Â  Â  </section>
Â  Â  </div>
Â  
Â  Â  <section class="tile">
Â  Â  Â  <h2>âœ¨ Â¡Me ha encantado!</h2>
Â  Â  Â  <p>Â¿Quieres recomendar nuestra ubicaciÃ³n y tu experiencia?</p>
Â  Â  Â  <button id="goToShareButton" class="btn btn-share-trigger">
Â  Â  Â  Â  ğŸ“¤ Recomendar y Compartir
Â  Â  Â  </button>
Â  Â  </section>
Â  Â  <p class="note"><strong>Â¡Gracias por tu tiempo!</strong></p>
Â  </div>

Â  Â  <div id="share-view">
Â  Â  <header class="brand">
Â  Â  Â  <div class="logo">
Â  Â  Â  Â  <img src="img/imagen_circular_recortada.png" alt="Logo CoctelerÃ­a Casablanca">
Â  Â  Â  </div>
Â  Â  Â  <h1>Comparte tu recomendaciÃ³n</h1>
Â  Â  Â  <p>Toca el botÃ³n para abrir el menÃº de compartir de tu mÃ³vil.</p>
Â  Â  </header>

Â  Â  <div class="share-card-preview">
Â  Â  Â  <span class="icon">â­</span>
Â  Â  Â  <h2>Restaurante Casablanca</h2>
Â  Â  Â  <p>
Â  Â  Â  Â  "Â¡He visitado este restaurante y me ha encantado! Te lo recomiendo. ğŸ¹ğŸŒ…"
Â  Â  Â  </p>
Â  Â  Â  <div class="note" style="margin-top: 10px;">
Â  Â  Â  Â  Se compartirÃ¡ este mensaje junto a la ubicaciÃ³n.
Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <button id="nativeShareButton" class="btn btn-share-native">
Â  Â  Â  Compartir con mis contactos
Â  Â  </button>
Â  Â  <button id="backButton" class="btn btn-back">
Â  Â  Â  â† Volver a la pÃ¡gina principal
Â  Â  </button>
Â  </div>
</main>

<script>
const MAPS_URL = "https://www.google.com/maps/place/Terraza+Casa+Blanca+Las+Canteras/@28.141278,-15.4374678,768m/data=!3m2!1e3!4b1!4m6!3m5!1s0xc409546bd250fb7:0x1844c8ed175e5104!8m2!3d28.141278!4d-15.4348929!16s%2Fg%2F11qb8pxwyk?entry=ttu";

const mainView = document.getElementById('main-view');
const shareView = document.getElementById('share-view');
const goToShareButton = document.getElementById('goToShareButton');
const nativeShareButton = document.getElementById('nativeShareButton');
const backButton = document.getElementById('backButton');

const titleText = "Restaurante Casablanca Las Canteras";
const shareText = "Â¡He visitado el Restaurante Casablanca y me ha encantado! Te lo recomiendo. Comida excelente y vistas increÃ­bles frente al mar. ğŸ¹ğŸŒ…";

// Objeto de datos para la Web Share API
const shareData = {
Â  Â  title: titleText,
Â  Â  text: shareText,
Â  Â  url: MAPS_URL // La URL/UbicaciÃ³n que quieres compartir
};

// FunciÃ³n para cambiar la vista
const showView = (viewId) => {
Â  Â  mainView.style.display = viewId === 'main' ? 'flex' : 'none';
Â  Â  shareView.style.display = viewId === 'share' ? 'flex' : 'none';
};

// 1. Mostrar la Tarjeta de Compartir
goToShareButton.addEventListener('click', () => {
Â  Â  showView('share');
});

// 2. Volver a la pÃ¡gina principal
backButton.addEventListener('click', () => {
Â  Â  showView('main');
});

// 3. BotÃ³n de Compartir Nativo (en la vista de la tarjeta)
nativeShareButton.addEventListener("click", async () => {
Â  Â  if (navigator.share) {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  // Usa Web Share API para abrir el menÃº nativo
Â  Â  Â  Â  Â  Â  await navigator.share(shareData);
Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  // Manejo de errores (por ejemplo, el usuario cancela)
Â  Â  Â  Â  Â  Â  console.log("No se pudo compartir:", err);
Â  Â  Â  Â  Â  Â  if (err.name !== 'AbortError') {
Â  Â  Â  Â  Â  Â  Â  Â  alert("OcurriÃ³ un error al intentar compartir.");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  } else {
Â  Â  Â  Â  // Fallback: Copiar al portapapeles si no hay soporte para Web Share API
Â  Â  Â  Â  const fallbackText = `${shareData.text}\n\nMira la ubicaciÃ³n aquÃ­: ${shareData.url}`;
Â  Â  Â  Â  
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  await navigator.clipboard.writeText(fallbackText);
Â  Â  Â  Â  Â  Â  alert("Tu navegador no soporta la funciÃ³n de compartir nativa. El texto ha sido copiado al portapapeles âœ…");
Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  console.log("No se pudo copiar el texto:", err);
Â  Â  Â  Â  Â  Â  alert("Error: No se pudo copiar el texto. Copia este enlace manualmente: " + MAPS_URL);
Â  Â  Â  Â  }
Â  Â  }
});

// Inicializar mostrando la vista principal
showView('main');
</script>
</body>
</html>
