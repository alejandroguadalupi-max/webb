<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Configurador Demo</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --primary: #2563eb;
  --bg-start: #f8fafc;
  --bg-end: #eef2f7;
  --bg-card: #ffffff;
  --text-main: #111827;
  --text-sec: #6b7280;
  --border: #e5e7eb;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Inter', sans-serif;
  background: linear-gradient(180deg, var(--bg-start), var(--bg-end));
  color: var(--text-main);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

.container {
  max-width: 420px;
  width: 100%;
  background: var(--bg-card);
  border-radius: 22px;
  padding: 34px 28px;
  box-shadow: 0 20px 30px -20px rgba(0,0,0,0.25), 0 10px 15px -10px rgba(0,0,0,0.1);
  border: 1px solid var(--border);
}

h1 { margin: 0 0 8px; font-size: 1.7em; font-weight: 700; text-align: center; letter-spacing: -0.6px; }
p.description { font-size: 0.95em; color: var(--text-sec); margin-bottom: 30px; text-align: center; line-height: 1.5; }

.input-group { margin-bottom: 22px; }
label { display: block; font-size: 0.8em; font-weight: 600; margin-bottom: 6px; }

input[type="text"], select {
  width: 100%; padding: 13px 14px; border-radius: 12px; border: 1px solid var(--border);
  font-size: 0.95em; background: #fff; transition: border-color 0.2s, box-shadow 0.2s; appearance: none;
}

input:focus, select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15); }

select {
  background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='%236b7280' d='M5.5 7.5l4.5 4.5 4.5-4.5z'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: right 14px center; background-size: 14px;
}

.color-picker-container { display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; margin-top: 12px; }
.color-option { width: 36px; height: 36px; border-radius: 50%; cursor: pointer; border: 2px solid transparent; transition: transform 0.2s; }
.color-option.selected { transform: scale(1.15); box-shadow: 0 0 0 2px white, 0 0 0 4px var(--text-main); }

button#generateBtn {
  width: 100%; padding: 15px; margin-top: 28px; border-radius: 14px; border: none; font-size: 1em;
  font-weight: 700; color: white; background: linear-gradient(180deg, var(--primary), #1e40af);
  cursor: pointer; box-shadow: 0 12px 20px -10px rgba(37,99,235,0.5);
}

.toast {
  position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100px);
  background: #111827; color: white; padding: 12px 22px; border-radius: 50px;
  opacity: 0; transition: transform 0.4s ease, opacity 0.4s ease;
}
.toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
</style>
</head>
<body>

<div class="container">
  <h1>Configurar Demo</h1>
  <p class="description">Introduce los datos para generar la <strong>vista previa 3D</strong>.</p>

  <div class="input-group">
    <label>Nombre del Restaurante</label>
    <input type="text" id="restaurantName" placeholder="Ej. La Parrilla de Alberto">
  </div>

  <div class="input-group">
    <label>Tipo de Cocina</label>
    <select id="restaurantType">
      <option value="" disabled selected>Selecciona una opción...</option>
      <option value="restaurante">Restaurante</option>
      <option value="hamburgueseria">Hamburguesería</option>
      <option value="pizzeria">Pizzería</option>
      <option value="asiatico">Asiático</option>
      <option value="cafe">Cafetería</option>
    </select>
  </div>

  <div class="input-group">
    <label>Color de Marca</label>
    <div class="color-picker-container">
      <div class="color-option selected" style="background:#2E7D32" data-color="2E7D32"></div>
      <div class="color-option" style="background:#FF8C00" data-color="FF8C00"></div>
      <div class="color-option" style="background:#D32F2F" data-color="D32F2F"></div>
      <div class="color-option" style="background:#E91E63" data-color="E91E63"></div>
      <div class="color-option" style="background:#2962FF" data-color="2962FF"></div>
    </div>
  </div>

  <button id="generateBtn">Crear Demo</button>
</div>

<div id="toast" class="toast">Error</div>

<script>
let selectedHex = '2E7D32';

// Selección de color
document.querySelectorAll('.color-option').forEach(el => {
  el.onclick = () => {
    document.querySelectorAll('.color-option').forEach(c => c.classList.remove('selected'));
    el.classList.add('selected');
    selectedHex = el.dataset.color;
  };
});

const toast = document.getElementById('toast');
function showToast(msg) {
  toast.textContent = msg;
  toast.classList.add('show');
  setTimeout(() => toast.classList.remove('show'), 3000);
}

// LÓGICA DE GENERACIÓN
document.getElementById('generateBtn').onclick = () => {
  const nameInput = document.getElementById('restaurantName').value.trim();
  const typeInput = document.getElementById('restaurantType').value;

  if (!nameInput) return showToast('Falta el nombre');
  if (!typeInput) return showToast('Falta el tipo');

  document.getElementById('generateBtn').textContent = 'Generando...';

  // Redirección a pruebita.html
  setTimeout(() => {
    const url = `pruebita.html?n=${encodeURIComponent(nameInput)}&categoria=${typeInput}&btn=${selectedHex}&auth=true`;
    window.location.href = url; // Cambiado a href para que cargue en la misma pestaña
  }, 600);
};
</script>

</body>
</html>